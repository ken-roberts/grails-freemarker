<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <link href="css/stylesheet.css" rel="stylesheet" type="text/css">
  <title>The Book Of Geb - Miscellaneous - version unspecified</title>

  <link type="text/css" rel="stylesheet" href="css/shCore.css"></link>
  <link type="text/css" rel="stylesheet" href="css/shThemeEclipse.css"></link>
  <script language="javascript" src="js/shCore.js"></script>
  <script language="javascript" src="js/shBrushGroovy.js"></script>
  <script type="text/javascript" src="js/jquery-1.6.1.min.js"></script>
  <script type="text/javascript" src="js/syntaxhighlight.js"></script>
  <script type="text/javascript">

    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-15031038-2']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();

  </script>
</head>

<body>
  <div id="wrapper">
    <div id="header">
      <span class="left">&#x25C0; <a href="020.usage.html">Usage</a></span>
      <span class="center"><a href="index.html">Table of Contents</a></span>
      <span class="right"><a href="040.vhistory.html">History</a> &#x25B6;</span>
    </div>
    <hr />
    <div class="page_toc">
      <h3>Chapter Contents</h3>
      <ul><li><span class='toc_number'>3</span><a href='030.miscellaneous.html#miscellaneous'>Miscellaneous</a><ul><li><span class='toc_number'>3.1</span><a href='030.miscellaneous.html#configuration'>Configuration</a></li><li><span class='toc_number'>3.2</span><a href='030.miscellaneous.html#logging'>Logging</a></li><li><span class='toc_number'>3.3</span><a href='030.miscellaneous.html#reserved_words'>Reserved Words</a></li></ul></li></ul></li></ul>
    </div>
    <hr />
    <h1><span id='miscellaneous'>3</span> Miscellaneous</h1>

<h2><span id='configuration'>3.1</span> Configuration</h2>

<p>Here is an example config with explanations</p>

<pre><code>grails {
    plugin {
        freemarker {

            /* A list of template loaderinstances or strings - Strings will be used as beanNames. */
            preTemplateLoaders = ['myCustomPreLoaderService']

            /* a list of any additional paths to search in. this can be any valid resource that spring accepts */
            templateLoaderPaths = ['some/path/to/views','classpath:com/corp/freemarker']

            /* A list of template loaders or strings - Strings will be used as beanNames. */
            postTemplateLoaders = ['myCustomPostLoaderService']

            //tries to find templates by appending the local to the name.
            //an odd feature in freemarker that is true by default
            localizedLookup = false

            //when referencing a freemarker view name then require the .ftl suffix
            requireViewSuffix = true

            viewResolver { 
                /*blow exception in resolver or swallow it and move on */
                hideException = false //default
            }

            tags {
                /* whether to enable the grails taglibs in the templates */
                enabled = true //default
            }
            //extra settings to pass straight through to the Freemarker Configuration
            //see http://freemarker.sourceforge.net/docs/api/freemarker/template/Configuration.html#setSetting(java.lang.String, java.lang.String)
            //http://freemarker.sourceforge.net/docs/api/freemarker/core/Configurable.html#setSetting(java.lang.String, java.lang.String)

            configSettings{
                //for example this will set it to be more secure and allows no user class resolution.
                new_builtin_class_resolver = 'allows_nothing'
                //simple is the most secure and means that only recognized objects in model can be accessed 
                //(String,Date,Number,Boolean,Collection,Map,Iterator,isArray, or TemplateModel)
                //simple will only allow field access and never method calls. 
                //Best to pass in a Map of Maps for the hash model for the highest level of security
                object_wrapper = 'simple'
            }

        }
    }
}
</code></pre>

<h2><span id='logging'>3.2</span> Logging</h2>

<p>You can enable plugin activity logging using the namespace 'grails.plugin.freemarker'.</p>

<p>For more information about Grails logging, please consult:
<a href="http://grails.org/doc/latest/guide/3.%20Configuration.html#3.1.2%20Logging">Grails Logging</a></p>

<h2><span id='reserved_words'>3.3</span> Reserved Words</h2>

<p>FreeMarker reserved words present in Grails Core TagLibs that can cause errors to FreeMarker's parser, will be
preceded by '_' (underscore).</p>

<p>.gsp  </p>

<pre><code>&amp;lt;g:renderErrors bean="${myUserInstance}" as="list" /&gt;
</code></pre>

<p>.ftl  </p>

<pre><code>&amp;lt;@g.renderErrors bean=myUserInstance _as="list" /&gt;
</code></pre>

<p>or  </p>

<pre><code>[@g.renderErrors bean=myUserInstance _as="list" /]
</code></pre>

    <hr />
    <div id="footer">
      <span class="left">&#x25C0; <a href="020.usage.html">Usage</a></span>
      <span class="center"><a href="index.html">Table of Contents</a></span>
      <span class="right"><a href="040.vhistory.html">History</a> &#x25B6;</span>
    </div>
  </div>
  <p style="text-align: center">
    The Book of <a href="http://www.gebish.org">Geb</a> - unspecified - February, 2012<br />
    Licensed under the <a href="http://www.apache.org/licenses/LICENSE-2.0">Apache License, Version 2.0</a>
  </p>
</body>
</html>
